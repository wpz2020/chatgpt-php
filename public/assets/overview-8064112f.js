import{l as z,d as q,k as G,q as H,s as L,H as $,r as N,o as P,bb as Y,bc as K,aJ as O,t as Q,e as p,f as d,c as h,a as t,b as e,g as c,i as r,j as a,bd as W,h as _,Y as y,x as X,F as S,J as B,y as Z,I as w,C as ee,D as te,_ as se}from"./index-9250cf41.js";import{a as V}from"./timeToDate-4f013b84.js";const ae="/api/product/";function oe(){return z({url:ae+"index",method:"get"})}const ce="/api/hu_pi_jiao_pay/";function ne(u){return z({url:ce+"index",method:"post",data:u})}const le=u=>(ee("data-v-95379c8b"),u=u(),te(),u),re={class:"user-views"},de={class:"card-header"},ie={class:"overview-userinfo"},_e={class:"user-data"},ue={class:"welcome-words"},pe={class:"card-header"},me=le(()=>c("span",null,"开通VIP，尊享会员特权",-1)),ve=["onClick"],fe={class:"chat-vip-dec"},he={class:"to-pay-01"},ye=q({__name:"overview",setup(u){G();const n=H();let{product_id:g,start_time:D,end_time:U,num:j}=L(n);$();const m=N({days:[],score:[],money:[],charts:[]});let x=$(0),R=o=>{x.value=o},f=N({products:{},product_name:""}),A=async()=>{let o={};o.product=f.products[x.value],o.userinfo=n.getUserInfo();let l=await ne(o);l.data.errmsg=="success!"&&window.open(l.data.url)},E=o=>o.split(`
`);P(async()=>{n.$state.isyouke="";let o=new Date().getTime();n.id!=0&&n.end_time!=0&&o>n.end_time*1e3&&(n.setNum(0),Y({id:n.id,num:0}));let l=await oe();l.code==1&&(f.products=l.data,l.data.forEach(s=>{s.id==n.product_id&&(f.product_name=s.name)})),K().then(s=>{m.days=s.data.days,m.score=s.data.score,m.money=s.data.money})}),O(()=>{for(const o in m.charts)m.charts[o].dispose()});let{products:F,product_name:J}=Q(f);return(o,l)=>{const s=p("el-col"),k=p("el-link"),v=p("el-row"),b=p("el-card"),I=p("el-button"),M=p("Icon");return d(),h("div",re,[t(b,{class:"user-views-card",shadow:"hover"},{header:e(()=>[c("div",de,[c("span",null,r(o.$t("user.account.overview.Account information")),1)])]),default:e(()=>[c("div",ie,[c("div",_e,[c("div",ue,r(a(n).nickname+o.$t("utils.comma")+a(W)()),1),t(v,{class:"data-item chat-isvip"},{default:e(()=>[t(s,{xs:10,sm:10,md:8,lg:6,xl:3},{default:e(()=>[_("会员")]),_:1}),t(s,{xs:14,sm:14,md:16,lg:16,xl:16},{default:e(()=>[a(g)!=0?(d(),y(k,{key:0,type:"primary"},{default:e(()=>[_(" 已开通 [ "+r(a(J))+" ] ",1)]),_:1})):(d(),y(k,{key:1,type:"primary"},{default:e(()=>[_(" 未开通 ")]),_:1}))]),_:1})]),_:1}),a(g)!=0?(d(),y(v,{key:0,class:"data-item chat-isvip"},{default:e(()=>[t(s,{xs:10,sm:10,md:8,lg:6,xl:3},{default:e(()=>[_("有效期")]),_:1}),t(s,{xs:14,sm:14,md:16,lg:16,xl:16},{default:e(()=>[c("span",null,r(a(V).setTime(a(D)))+" 至 "+r(a(V).setTime(a(U))),1)]),_:1})]),_:1})):X("",!0),t(v,{class:"data-item chat-isvip"},{default:e(()=>[t(s,{xs:10,sm:10,md:8,lg:6,xl:3},{default:e(()=>[_("剩余对话次数")]),_:1}),t(s,{xs:14,sm:14,md:16,lg:16,xl:16},{default:e(()=>[c("span",null,r(a(j))+" 次",1)]),_:1})]),_:1})])])]),_:1}),t(b,{class:"box-card"},{header:e(()=>[c("div",pe,[me,t(I,{class:"button",text:""})])]),default:e(()=>[t(v,null,{default:e(()=>[(d(!0),h(S,null,B(a(F),(i,C)=>(d(),y(s,{span:8,xs:24,sm:12,lg:8},{default:e(()=>[c("div",{class:Z(["chat-vip",a(x)===C?"current-vip":""]),onClick:T=>a(R)(C)},[c("div",{class:"chat-vip-title",style:w({color:i.color})},[t(M,{name:"iconfont icon-vip1",style:w({color:i.color}),size:"22"},null,8,["style"]),_(" "+r(i.name),1)],4),c("div",{class:"chat-vip-price",style:w({color:i.color})},"￥ "+r(i.price),5),c("div",fe,[(d(!0),h(S,null,B(a(E)(i.dec),T=>(d(),h("p",null,r(T),1))),256))])],10,ve)]),_:2},1024))),256))]),_:1}),t(v,null,{default:e(()=>[t(s,{span:8,class:"to-pay"}),t(s,{span:8,class:"to-pay"}),t(s,{span:8,class:"to-pay"},{default:e(()=>[c("div",he,[t(I,{type:"primary",onClick:l[0]||(l[0]=i=>a(A)())},{default:e(()=>[_("立即开通")]),_:1})])]),_:1})]),_:1})]),_:1})])}}});const ge=se(ye,[["__scopeId","data-v-95379c8b"]]);export{ge as default};
