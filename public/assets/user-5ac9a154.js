import{d as f,v as I,f as i,Y as m,b as a,a as e,ar as k,j as d,aI as b,e as n,_ as y,I as v,$ as C,q as M,ap as S,o as j,ab as $,al as q,aL as B,a3 as F,p as N,k as A}from"./index-9250cf41.js";import{u as D}from"./memberCenter-56f43a26.js";import{h as H,r as T,g as E}from"./router-c56b232f.js";import{H as w}from"./header-5600c090.js";import L from"./aside-a0f5d033.js";import{F as R}from"./footer-5f938457.js";import{m as x}from"./layout-5d1959c6.js";import"./logo-dbed91f4.js";import"./menu-83125494.js";function P(){return new Promise(c=>{c({type:"continue"})})}const U=f({__name:"main",setup(c){const l=I();return(u,r)=>{const s=n("router-view"),o=n("el-main");return i(),m(o,{class:"layout-main"},{default:a(()=>[e(s,null,{default:a(({Component:t})=>[e(k,{name:d(l).layout.mainAnimation,mode:"out-in"},{default:a(()=>[(i(),m(b(t)))]),_:2},1032,["name"])]),_:1})]),_:1})}}});const z=y(U,[["__scopeId","data-v-bc73de31"]]),J=f({__name:"default",setup(c){return(l,u)=>{const r=n("el-col"),s=n("el-row"),o=n("el-scrollbar"),t=n("el-container");return i(),m(t,{class:"is-vertical"},{default:a(()=>[e(w),e(o,{style:v(d(x)()),ref:"mainScrollbarRef"},{default:a(()=>[e(s,{class:"frontend-footer-brother",justify:"center"},{default:a(()=>[e(r,{class:"user-layouts"},{default:a(()=>[e(L,{class:"hidden-sm-and-down"}),e(z)]),_:1})]),_:1}),e(R)]),_:1},8,["style"])]),_:1})}}});const O=y(J,[["__scopeId","data-v-1a961b33"]]),V=f({__name:"disable",setup(c){return(l,u)=>{const r=n("el-alert"),s=n("el-col"),o=n("el-row"),t=n("el-scrollbar"),_=n("el-container");return i(),m(_,{class:"is-vertical"},{default:a(()=>[e(w),e(t,{style:v(d(x)()),ref:"mainScrollbarRef"},{default:a(()=>[e(o,{class:"frontend-footer-brother",justify:"center"},{default:a(()=>[e(s,{class:"user-layouts",span:16,xs:24},{default:a(()=>[e(r,{center:!0,title:l.$t("Member center disabled"),type:"error"},null,8,["title"])]),_:1})]),_:1}),e(R)]),_:1},8,["style"])]),_:1})}}});const W=y(V,[["__scopeId","data-v-e004cd2e"]]),Y={components:{Default:O,Disable:W}},ae=f({...Y,__name:"user",setup(c){const{t:l}=C(),u=N(),r=A(),s=M(),o=D();return S(t=>{o.setActiveRoute(t)}),j(async()=>{const t=await P();if(t.type!="break"){if(t.type=="reload")return window.location.href=t.url;if(!s.token)return r.push({name:"userLogin"});$().then(_=>{if(_.data.userInfo.refreshToken=s.refreshToken,s.dataFill(_.data.userInfo),_.data.menus){if(H(_.data.menus),t.type=="jump")return r.push(t.url);if(u.params.to){const p=JSON.parse(u.params.to);if(p.path!=q.path){let g=B(p.query)?{}:p.query;T({path:p.path,query:g});return}}let h=E(o.state.viewRoutes);h?r.push({path:h.path}):F({type:"error",message:l("No route found to jump~")})}}),document.body.clientWidth<1024?o.setShrink(!0):o.setShrink(!1)}}),(t,_)=>(i(),m(b(d(o).state.layoutMode)))}});export{ae as default};
