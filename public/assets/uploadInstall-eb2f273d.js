import{defineComponent as r,reactive as _,resolveComponent as n,openBlock as i,createElementBlock as c,createElementVNode as t,toDisplayString as o,createVNode as p,withCtx as f,Fragment as h,createTextVNode as v,createBlock as w}from"vue";import{af as g,_ as k}from"./index-89e26330.js";import{k as y}from"./store-fda3112c.js";import{a as I}from"./index-411a3130.js";import"vue-i18n";import"vue-router";import"pinia";import"vue-demi";import"element-plus";const $={class:"upload-install"},C={class:"tips"},S={class:"title"},T={class:"tip-item"},U={class:"tip-item"},b={class:"tip-item"},B={class:"el-upload__text"},D=r({__name:"uploadInstall",setup(F){const l=_({uploadState:"wait-file"}),u=e=>{if(!e||!e.raw)return;let s=new FormData;s.append("file",e.raw),g(s,{},!0).then(a=>{a.code==1&&y(a.data.file.url).then(d=>{l.uploadState="success",I(d.data.info.uid,0)}).catch(()=>{l.uploadState="wait-file"})})};return(e,s)=>{const a=n("Icon"),d=n("el-result"),m=n("el-upload");return i(),c("div",$,[t("div",C,[t("div",S,o(e.$t("module.Local upload warning")),1),t("div",T,"1. "+o(e.$t("module.The module can modify and add system files")),1),t("div",U,"2. "+o(e.$t("module.The module can execute sql commands and codes")),1),t("div",b,"3. "+o(e.$t("module.The module can install new front and rear dependencies")),1)]),p(m,{class:"upload-module","show-file-list":!1,accept:".zip",drag:"","auto-upload":!1,onChange:u},{default:f(()=>[l.uploadState=="wait-file"?(i(),c(h,{key:0},[p(a,{size:"50px",color:"#909399",name:"el-icon-UploadFilled"}),t("div",B,[v(o(e.$t("module.Drag the module package file here"))+" ",1),t("em",null,o(e.$t("module.Click me to upload")),1)])],64)):(i(),w(d,{key:1,icon:"success","sub-title":e.$t("module.Uploaded, installation is about to start, please wait")},null,8,["sub-title"]))]),_:1})])}}});const A=k(D,[["__scopeId","data-v-88f57e9d"]]);export{A as default};
