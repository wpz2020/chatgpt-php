import{defineComponent as u,ref as f,markRaw as v,provide as _,onMounted as g,resolveComponent as c,openBlock as m,createElementBlock as h,unref as t,createBlock as k,createCommentVNode as w,createVNode as o,h as p}from"vue";import{b as V,T as q,a as R}from"./index-0a827c2c.js";import{c as B,aB as T,an as y}from"./index-89e26330.js";import{useI18n as E}from"vue-i18n";import{_ as C}from"./popupForm.vue_vue_type_script_setup_true_lang-720e74d6.js";import{ElMessageBox as N}from"element-plus";import"vue-router";import"./controllerUrls-941681c3.js";import"./index-d3b20950.js";import"pinia";import"vue-demi";import"./index-39d73c69.js";import"./validate-e09b6b50.js";function S(s){return B({url:"/admin/sms.Variable/getVar",method:"get",params:{id:s}})}const x={class:"default-main ba-table-box"},A=u({name:"sms/variable"}),L=u({...A,setup(s){const{t:e}=E(),n=f(),d=T(["edit","delete"]),b={render(r){if(r.$attrs.renderValue)return p("span",r.$attrs.renderValue);const i=()=>{S(r.$attrs.renderRow.id).then(l=>{N.alert(l.data,"计算结果",{confirmButtonText:"确定"})})};return p(c("el-link"),{type:"primary",onClick:i},()=>"点击计算")}},a=new V(new y("/admin/sms.variable/"),{pk:"id",column:[{type:"selection",align:"center",operator:!1},{label:e("sms.variable.id"),prop:"id",align:"center",width:70,sortable:"custom",operator:"RANGE"},{label:e("sms.variable.title"),prop:"title",align:"center"},{label:e("sms.variable.name"),prop:"name",align:"center"},{label:e("sms.variable.value_source"),prop:"value_source",align:"center",render:"tag",replaceValue:{literal:e("sms.variable.value_source literal"),func:e("sms.variable.value_source func"),sql:e("sms.variable.value_source sql")}},{label:e("sms.variable.value"),prop:"value",align:"center",render:"customRender",customRender:v(b),"show-overflow-tooltip":!0},{label:e("sms.variable.sql"),prop:"sql",align:"center","show-overflow-tooltip":!0},{label:e("sms.variable.namespace"),prop:"namespace",align:"center","show-overflow-tooltip":!0},{label:e("sms.variable.class"),prop:"class",align:"center"},{label:e("sms.variable.func"),prop:"func",align:"center"},{label:e("sms.variable.param"),prop:"param",align:"center"},{label:e("state"),prop:"status",align:"center",render:"tag",custom:{0:"danger",1:"success"},replaceValue:{0:e("Disable"),1:e("Enable")}},{label:e("sms.variable.updatetime"),prop:"updatetime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("sms.variable.createtime"),prop:"createtime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("operate"),align:"center",width:100,render:"buttons",buttons:d,operator:!1}],dblClickNotEditColumn:[void 0],defaultOrder:{prop:"id",order:"desc"}},{defaultItems:{value_source:"literal",status:"1"}});return _("baTable",a),g(()=>{var r;a.table.ref=n.value,a.mount(),(r=a.getIndex())==null||r.then(()=>{a.initSort(),a.dragSort()})}),(r,i)=>{const l=c("el-alert");return m(),h("div",x,[t(a).table.remark?(m(),k(l,{key:0,class:"ba-table-alert",title:t(a).table.remark,type:"info","show-icon":""},null,8,["title"])):w("",!0),o(q,{buttons:["refresh","add","edit","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":t(e)("quick Search Placeholder",{fields:t(e)("sms.variable.quick Search Fields")})},null,8,["quick-search-placeholder"]),o(R,{ref_key:"tableRef",ref:n},null,512),o(C)])}}});export{L as default};
