import{d as F,H as I,$ as N,r as $,f as r,Y as n,b as i,z as f,c as B,h as b,i as c,j as e,g as y,a as s,I as V,a0 as _,N as g,x as D,y as P,R as T,e as m,aC as u}from"./index-9250cf41.js";import{F as p}from"./index-5cf5ba2e.js";import{b as U}from"./validate-d30190a1.js";const K={class:"title"},L=F({__name:"popupForm",setup(R){const d=I(),t=T("baTable"),{t:l}=N(),x=$({add_time:[U({name:"date",title:l("questions.add_time")})]});return(W,o)=>{const C=m("el-form"),q=m("el-scrollbar"),v=m("el-button"),w=m("el-dialog"),k=u("drag"),S=u("zoom"),h=u("loading"),z=u("blur");return r(),n(w,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["add","edit"].includes(e(t).form.operate),onClose:e(t).toggleForm,width:"50%"},{header:i(()=>[f((r(),B("div",K,[b(c(e(t).form.operate?e(l)(e(t).form.operate):""),1)])),[[k,[".ba-operate-dialog",".el-dialog__header"]],[S,".ba-operate-dialog"]])]),footer:i(()=>[y("div",{style:V("width: calc(100% - "+e(t).form.labelWidth/1.8+"px)")},[s(v,{onClick:o[8]||(o[8]=a=>e(t).toggleForm(""))},{default:i(()=>[b(c(e(l)("Cancel")),1)]),_:1}),f((r(),n(v,{loading:e(t).form.submitLoading,onClick:o[9]||(o[9]=a=>e(t).onSubmit(d.value)),type:"primary"},{default:i(()=>[b(c(e(t).form.operateIds&&e(t).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[z]])],4)]),default:i(()=>[f((r(),n(q,{class:"ba-table-form-scrollbar"},{default:i(()=>[y("div",{class:P(["ba-operate-form","ba-"+e(t).form.operate+"-form"]),style:V("width: calc(100% - "+e(t).form.labelWidth/2+"px)")},[e(t).form.loading?D("",!0):(r(),n(C,{key:0,ref_key:"formRef",ref:d,onSubmit:o[6]||(o[6]=_(()=>{},["prevent"])),onKeyup:o[7]||(o[7]=g(a=>e(t).onSubmit(d.value),["enter"])),model:e(t).form.items,"label-position":"right","label-width":e(t).form.labelWidth+"px",rules:x},{default:i(()=>[s(p,{label:e(l)("questions.title"),type:"string",modelValue:e(t).form.items.title,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).form.items.title=a),prop:"title",placeholder:e(l)("Please input field",{field:e(l)("questions.title")})},null,8,["label","modelValue","placeholder"]),s(p,{label:e(l)("questions.user_ids"),type:"remoteSelect",modelValue:e(t).form.items.user_ids,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).form.items.user_ids=a),prop:"user_ids","input-attr":{pk:"questions_type.id",field:"title","remote-url":"/admin/QuestionsType/index",multiple:!0},placeholder:e(l)("Please select field",{field:e(l)("questions.user_ids")})},null,8,["label","modelValue","input-attr","placeholder"]),s(p,{label:e(l)("questions.content"),type:"textarea",modelValue:e(t).form.items.content,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).form.items.content=a),prop:"content","input-attr":{rows:3},onKeyup:[o[3]||(o[3]=g(_(()=>{},["stop"]),["enter"])),o[4]||(o[4]=g(_(a=>e(t).onSubmit(d.value),["ctrl"]),["enter"]))],placeholder:e(l)("Please input field",{field:e(l)("questions.content")})},null,8,["label","modelValue","placeholder"]),s(p,{label:e(l)("questions.add_time"),type:"datetime",modelValue:e(t).form.items.add_time,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).form.items.add_time=a),prop:"add_time",placeholder:e(l)("Please select field",{field:e(l)("questions.add_time")})},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[h,e(t).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{L as _};
