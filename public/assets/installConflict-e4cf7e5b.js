import{defineComponent as y,resolveComponent as m,resolveDirective as $,openBlock as c,createElementBlock as r,createElementVNode as f,unref as d,Fragment as C,toDisplayString as u,createVNode as n,withCtx as i,createCommentVNode as _,withDirectives as V,createBlock as k,createTextVNode as D}from"vue";import{s as l}from"./store-fda3112c.js";import{e as F}from"./index-411a3130.js";import{_ as N}from"./index-89e26330.js";import"pinia";import"element-plus";import"vue-i18n";import"vue-router";import"vue-demi";const B={class:"install-conflict"},E={class:"install-title"},U={class:"install-title"},I={key:0},T=y({__name:"installConflict",setup(S){const w=()=>{l.loading.common=!0;let e={},a={};for(const o in l.common.fileConflict)e[l.common.fileConflict[o].oldFile]=l.common.fileConflict[o].solution;for(const o in l.common.dependConflict)typeof a[l.common.dependConflict[o].env]>"u"&&(a[l.common.dependConflict[o].env]={}),a[l.common.dependConflict[o].env][l.common.dependConflict[o].depend]=l.common.dependConflict[o].solution;F(l.common.uid,0,{dependConflict:a,fileConflict:e})};return(e,a)=>{const o=m("el-table-column"),s=m("el-option"),b=m("el-select"),v=m("el-table"),g=m("el-button"),h=$("blur");return c(),r("div",null,[f("div",B,[d(l).common.fileConflict.length>0?(c(),r(C,{key:0},[f("div",E,u(e.$t("module.File conflict")),1),n(v,{data:d(l).common.fileConflict,stripe:"",border:"",style:{width:"100%"}},{default:i(()=>[n(o,{prop:"newFile",label:e.$t("module.new file")},null,8,["label"]),n(o,{prop:"oldFile",label:e.$t("module.Existing files")},null,8,["label"]),n(o,{prop:"solution",width:"200",label:e.$t("module.Treatment scheme"),align:"center"},{default:i(t=>[n(b,{modelValue:t.row.solution,"onUpdate:modelValue":p=>t.row.solution=p},{default:i(()=>[n(s,{label:e.$t("module.Backup and overwrite existing files"),value:"cover"},null,8,["label"]),n(s,{label:e.$t("module.Discard new file"),value:"discard"},null,8,["label"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"])]),_:1},8,["data"])],64)):_("",!0),d(l).common.dependConflict.length>0?(c(),r(C,{key:1},[f("div",U,u(e.$t("module.Dependency conflict")),1),n(v,{data:d(l).common.dependConflict,stripe:"",border:"",style:{width:"100%"}},{default:i(()=>[n(o,{prop:"env",label:e.$t("module.environment")},{default:i(t=>[t.row.env?(c(),r("span",I,u(e.$t("module.env "+t.row.env)),1)):_("",!0)]),_:1},8,["label"]),n(o,{prop:"newDepend",label:e.$t("module.New dependency")},null,8,["label"]),n(o,{prop:"oldDepend",label:e.$t("module.Existing dependencies")},null,8,["label"]),n(o,{prop:"solution",width:"200",label:e.$t("module.Treatment scheme"),align:"center"},{default:i(t=>[n(b,{modelValue:t.row.solution,"onUpdate:modelValue":p=>t.row.solution=p},{default:i(()=>[n(s,{label:e.$t("module.Overwrite existing dependencies"),value:"cover"},null,8,["label"]),n(s,{label:e.$t("module.Do not use new dependencies"),value:"discard"},null,8,["label"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1},8,["label"])]),_:1},8,["data"])],64)):_("",!0)]),V((c(),k(g,{class:"install-done-button",loading:d(l).loading.common,disabled:d(l).loading.common,size:"large",type:"primary",onClick:w},{default:i(()=>[D(u(e.$t("Confirm")),1)]),_:1},8,["loading","disabled"])),[[h]])])}}});const L=N(T,[["__scopeId","data-v-91d7b712"]]);export{L as default};
