import{defineComponent as N,ref as T,onMounted as U,resolveComponent as d,openBlock as _,createElementBlock as r,createVNode as t,withCtx as p,Fragment as L,renderList as M,unref as C,createElementVNode as i,withDirectives as c,toDisplayString as V,vShow as a,createTextVNode as B}from"vue";import{u as O,c as h}from"./chat-9567bdf0.js";import{m as x,_ as S}from"./index-89e26330.js";import{storeToRefs as j}from"pinia";import{u as F}from"./menu-c85258cb.js";import{useRouter as G}from"vue-router";import"vue-i18n";import"vue-demi";import"element-plus";const K={class:"chat-left"},W=["index"],q={key:0,class:"speak-list current-speak"},z={class:"speak-list-left"},H={class:"speak-list-right"},J={key:1,class:"speak-list"},Q={class:"speak-list-left"},X=["onClick"],Y={class:"speak-list-right"},Z={class:"footer-01"},y=N({__name:"chat_list",setup(ee){G(),T("GPT3.5");let $=O();const{chatMsgList:b,nowChatId:I}=j($);let P=()=>{f()},f=()=>{let o=h.addChat();o.code==401&&x.error(o.msg)};function u(o){h.updateIsshow(o)}function m(o){let w=h.getAllChat();if(Reflect.ownKeys(w).length==1)return x.error("请新增会话再删除"),!1;h.delOneChat(o)}let v=F();function k(o){document.body.clientWidth<851&&(v.chatAside=!v.chatAside),h.updateNowChatId(o)}return U(()=>{let o=h.getAllChat();Object.keys(o).length==0&&f()}),(o,w)=>{const l=d("Icon"),g=d("el-input"),A=d("el-main"),R=d("el-button"),D=d("el-footer"),E=d("el-container");return _(),r("div",K,[t(E,{class:"chat-left-content"},{default:p(()=>[t(A,null,{default:p(()=>[(_(!0),r(L,null,M(C(b),(e,s)=>(_(),r("div",{index:s},[s==C(I)?(_(),r("div",q,[i("div",z,[t(l,{name:"el-icon-ChatDotRound"}),c(i("span",null,V(e.title),513),[[a,!e.isshow]]),c(t(g,{modelValue:e.title,"onUpdate:modelValue":n=>e.title=n,placeholder:"Please input"},null,8,["modelValue","onUpdate:modelValue"]),[[a,e.isshow]])]),i("div",H,[c(t(l,{onClick:n=>u(s),class:"savechat",name:"iconfont icon-baocun2"},null,8,["onClick"]),[[a,e.isshow]]),c(t(l,{onClick:n=>u(s),class:"editchat",name:"el-icon-EditPen"},null,8,["onClick"]),[[a,!e.isshow]]),c(t(l,{onClick:n=>m(s),class:"delchat",name:"el-icon-CircleClose"},null,8,["onClick"]),[[a,!e.isshow]])])])):(_(),r("div",J,[i("div",Q,[t(l,{name:"el-icon-ChatDotRound",onClick:n=>k(s)},null,8,["onClick"]),c(i("span",{onClick:n=>k(s)},V(e.title),9,X),[[a,!e.isshow]]),c(t(g,{modelValue:e.title,"onUpdate:modelValue":n=>e.title=n,placeholder:"Please input"},null,8,["modelValue","onUpdate:modelValue"]),[[a,e.isshow]])]),i("div",Y,[c(t(l,{onClick:n=>u(s),class:"savechat",name:"iconfont icon-baocun2"},null,8,["onClick"]),[[a,e.isshow]]),c(t(l,{onClick:n=>u(s),class:"editchat",name:"el-icon-EditPen"},null,8,["onClick"]),[[a,!e.isshow]]),c(t(l,{onClick:n=>m(s),class:"delchat",name:"el-icon-CircleClose"},null,8,["onClick"]),[[a,!e.isshow]])])]))],8,W))),256))]),_:1}),t(D,{class:"aside-footer"},{default:p(()=>[i("div",Z,[t(R,{class:"new-speak",onClick:C(P)},{default:p(()=>[B("开始新的聊天 "),t(l,{name:"el-icon-Plus"})]),_:1},8,["onClick"])])]),_:1})]),_:1})])}}});const he=S(y,[["__scopeId","data-v-00c717fd"]]);export{he as default};
