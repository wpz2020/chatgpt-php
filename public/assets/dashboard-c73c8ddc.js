import{i as I}from"./echarts-e90ad19a.js";import{c as P,l as W,e as O,k as B,a7 as G,L as E,af as x,_ as U}from"./index-714877db.js";import{h as N,ac as R,r as z,aw as Y,A as L,H as q,ag as j,a2 as H,B as $,p as K,l as J,o as a,q as h,D as p,k as g,M as T,U as Q,n as M,t as A,V as X,W as Z}from"./vue-8b21a996.js";const tt="/assets/header-1-2575ae78.svg",st="/assets/coffee-d68d7748.svg";var C=globalThis&&globalThis.__assign||function(){return(C=Object.assign||function(c){for(var s,d=1,e=arguments.length;d<e;d++)for(var t in s=arguments[d])Object.prototype.hasOwnProperty.call(s,t)&&(c[t]=s[t]);return c}).apply(this,arguments)},et=function(){function c(s,d,e){var t=this;this.endVal=d,this.options=e,this.version="2.6.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(u){t.startTime||(t.startTime=u);var m=u-t.startTime;t.remaining=t.duration-m,t.useEasing?t.countDown?t.frameVal=t.startVal-t.easingFn(m,0,t.startVal-t.endVal,t.duration):t.frameVal=t.easingFn(m,t.startVal,t.endVal-t.startVal,t.duration):t.frameVal=t.startVal+(t.endVal-t.startVal)*(m/t.duration);var n=t.countDown?t.frameVal<t.endVal:t.frameVal>t.endVal;t.frameVal=n?t.endVal:t.frameVal,t.frameVal=Number(t.frameVal.toFixed(t.options.decimalPlaces)),t.printValue(t.frameVal),m<t.duration?t.rAF=requestAnimationFrame(t.count):t.finalEndVal!==null?t.update(t.finalEndVal):t.options.onCompleteCallback&&t.options.onCompleteCallback()},this.formatNumber=function(u){var m,n,_,b,D=u<0?"-":"";m=Math.abs(u).toFixed(t.options.decimalPlaces);var F=(m+="").split(".");if(n=F[0],_=F.length>1?t.options.decimal+F[1]:"",t.options.useGrouping){b="";for(var y=3,k=0,w=0,S=n.length;w<S;++w)t.options.useIndianSeparators&&w===4&&(y=2,k=1),w!==0&&k%y==0&&(b=t.options.separator+b),k++,b=n[S-w-1]+b;n=b}return t.options.numerals&&t.options.numerals.length&&(n=n.replace(/[0-9]/g,function(o){return t.options.numerals[+o]}),_=_.replace(/[0-9]/g,function(o){return t.options.numerals[+o]})),D+t.options.prefix+n+_+t.options.suffix},this.easeOutExpo=function(u,m,n,_){return n*(1-Math.pow(2,-10*u/_))*1024/1023+m},this.options=C(C({},this.defaults),e),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(d),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof s=="string"?document.getElementById(s):s,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,s):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return t.handleScroll(t)}),window.onscroll=function(){window.onScrollFns.forEach(function(u){return u()})},this.handleScroll(this)))}return c.prototype.handleScroll=function(s){if(s&&window&&!s.once){var d=window.innerHeight+window.scrollY,e=s.el.getBoundingClientRect(),t=e.top+window.pageYOffset,u=e.top+e.height+window.pageYOffset;u<d&&u>window.scrollY&&s.paused?(s.paused=!1,setTimeout(function(){return s.start()},s.options.scrollSpyDelay),s.options.scrollSpyOnce&&(s.once=!0)):(window.scrollY>u||t>d)&&!s.paused&&s.reset()}},c.prototype.determineDirectionAndSmartEasing=function(){var s=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>s;var d=s-this.startVal;if(Math.abs(d)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=s;var e=this.countDown?1:-1;this.endVal=s+e*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=s,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},c.prototype.start=function(s){this.error||(s&&(this.options.onCompleteCallback=s),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},c.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},c.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},c.prototype.update=function(s){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(s),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},c.prototype.printValue=function(s){var d;if(this.el){var e=this.formattingFn(s);(d=this.options.plugin)!==null&&d!==void 0&&d.render?this.options.plugin.render(this.el,e):this.el.tagName==="INPUT"?this.el.value=e:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=e:this.el.innerHTML=e}},c.prototype.ensureNumber=function(s){return typeof s=="number"&&!isNaN(s)},c.prototype.validateValue=function(s){var d=Number(s);return this.ensureNumber(d)?d:(this.error="[CountUp] invalid start or end value: ".concat(s),null)},c.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},c}();function at(){return P({url:"/admin/Dashboard/dashboard",method:"get"})}const v=c=>(X("data-v-3a5ef62a"),c=c(),Z(),c),ot={class:"default-main"},nt={class:"banner"},it={class:"welcome suspension"},rt=["src"],lt={class:"welcome-text"},dt={class:"welcome-title"},ct={class:"welcome-note"},ht={class:"working"},ut=["src"],mt={class:"working-text"},pt={class:"time"},ft={class:"small-panel-box"},_t={class:"small-panel user-reg suspension"},gt=v(()=>a("div",{class:"small-panel-title"},"会员总充值",-1)),vt={class:"small-panel-content"},bt={class:"content-left"},wt=v(()=>a("span",{id:"user_reg_number"},"5456",-1)),Vt=v(()=>a("div",{class:"content-right"},"+14%",-1)),yt={class:"small-panel file suspension"},Tt=v(()=>a("div",{class:"small-panel-title"},"今日会员充值",-1)),Ft={class:"small-panel-content"},kt={class:"content-left"},St=v(()=>a("span",{id:"file_number"},"1234",-1)),Et=v(()=>a("div",{class:"content-right"},"+50%",-1)),xt={class:"small-panel users suspension"},At={class:"small-panel-title"},Dt={class:"small-panel-content"},Ct={class:"content-left"},It=v(()=>a("span",{id:"users_number"},"9486",-1)),Mt=v(()=>a("div",{class:"content-right"},"+28%",-1)),Nt={class:"small-panel addons suspension"},Pt=v(()=>a("div",{class:"small-panel-title"},"对话总数",-1)),Wt={class:"small-panel-content"},Ot={class:"content-left"},Bt=v(()=>a("span",{id:"addons_number"},"875",-1)),Gt=v(()=>a("div",{class:"content-right"},"+88%",-1)),Ut={class:"growth-chart"},Rt=N({name:"dashboard"}),zt=N({...Rt,setup(c){var s;const d=new Date,{t:e}=W(),t=O(),u=B(),m=R(),n=z({charts:[],remark:"dashboard.Loading",workingTimeFormat:"",pauseWork:!1});at().then(o=>{n.remark=o.data.remark});const _=o=>{M(()=>{var i;let l=(i=document.getElementById(o))==null?void 0:i.innerText;l&&new et(o,parseInt(l),{startVal:0,duration:3}).start()})},b=()=>{_("user_reg_number"),_("file_number"),_("users_number"),_("addons_number")},D=()=>{const o=I(m.value[0]),l={grid:{top:0,right:0,bottom:20,left:0},xAxis:{data:[e("dashboard.Monday"),e("dashboard.Tuesday"),e("dashboard.Wednesday"),e("dashboard.Thursday"),e("dashboard.Friday"),e("dashboard.Saturday"),e("dashboard.Sunday")]},yAxis:{},legend:{data:[e("dashboard.Visits"),e("dashboard.Registration volume")],textStyle:{color:"#73767a"}},series:[{name:e("dashboard.Visits"),data:[100,160,280,230,190,200,480],type:"line",smooth:!0,areaStyle:{color:"#8595F4"}},{name:e("dashboard.Registration volume"),data:[45,180,146,99,210,127,288],type:"line",smooth:!0,areaStyle:{color:"#F48595",opacity:.5}}]};o.setOption(l),n.charts.push(o)},F=()=>{const o=I(m.value[1]),l={grid:{top:30,right:0,bottom:20,left:0},tooltip:{trigger:"item"},legend:{type:"scroll",bottom:15,data:function(){for(var i=[],r=1;r<=12;r++)i.push(r+e("dashboard.month"));return i}(),textStyle:{color:"#73767a"}},visualMap:{top:"middle",right:10,color:["red","yellow"],calculable:!0},radar:{indicator:[{name:e("dashboard.picture")},{name:e("dashboard.file")},{name:e("dashboard.table")},{name:e("dashboard.Compressed package")}]},series:function(){for(var i=[],r=1;r<=12;r++)i.push({type:"radar",symbol:"none",lineStyle:{width:1},emphasis:{areaStyle:{color:"rgba(0,250,0,0.3)"}},data:[{value:[(40-r)*10,(38-r)*4+60,r*5+10,r*20],name:r+e("dashboard.month")}]});return i}()};o.setOption(l),n.charts.push(o)},y=()=>{M(()=>{for(const o in n.charts)n.charts[o].resize()})},k=()=>{const o=parseInt((new Date().getTime()/1e3).toString()),l=E.get(x);n.pauseWork?(l.pauseTime+=o-l.startPauseTime,l.startPauseTime=0,E.set(x,l),n.pauseWork=!1,w()):(l.startPauseTime=o,E.set(x,l),clearInterval(s),n.pauseWork=!0)},w=()=>{const o=E.get(x)||{date:"",startTime:0,pauseTime:0,startPauseTime:0},l=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate(),i=parseInt((new Date().getTime()/1e3).toString());o.date!=l&&(o.date=l,o.startTime=i,o.pauseTime=o.startPauseTime=0,E.set(x,o));let r=0;o.startPauseTime<=0?(n.pauseWork=!1,r=0):(n.pauseWork=!0,r=i-o.startPauseTime);let f=i-o.startTime-o.pauseTime-r;n.workingTimeFormat=S(f),n.pauseWork||(s=setInterval(()=>{f++,n.workingTimeFormat=S(f)},1e3))},S=o=>{var l=0,i=0,r=0,f=0,V="";return o<60?l=o:(i=Math.floor(o/60),l=Math.floor(o%60),i>=60&&(r=Math.floor(i/60),i=Math.floor(i%60),r>=24&&(f=Math.floor(r/24),r=Math.floor(r%24)))),V=r+e("dashboard.hour")+((i>=10?i:"0"+i)+e("dashboard.minute"))+((l>=10?l:"0"+l)+e("dashboard.second")),f>0&&(V=f+e("dashboard.day")+V),V};return Y(()=>{y()}),L(()=>{w(),b(),D(),F(),q(window,"resize",y)}),j(()=>{for(const o in n.charts)n.charts[o].dispose()}),H(()=>{clearInterval(s)}),$(()=>t.state.tabFullScreen,()=>{y()}),(o,l)=>{const i=A("el-col"),r=A("el-row"),f=A("Icon"),V=A("el-card");return K(),J("div",ot,[a("div",nt,[h(r,{gutter:10},{default:p(()=>[h(i,{md:24,lg:18},{default:p(()=>[a("div",it,[a("img",{class:"welcome-img",src:g(tt),alt:""},null,8,rt),a("div",lt,[a("div",dt,T(g(u).nickname+g(e)("utils.comma")+g(G)()),1),a("div",ct,T(n.remark),1)])])]),_:1}),h(i,{lg:6,class:"hidden-md-and-down"},{default:p(()=>[a("div",ht,[a("img",{class:"working-coffee",src:g(st),alt:""},null,8,ut),a("div",mt,[Q(T(g(e)("dashboard.You have worked today")),1),a("span",pt,T(n.workingTimeFormat),1)]),a("div",{onClick:l[0]||(l[0]=Yt=>k()),class:"working-opt working-rest"},T(n.pauseWork?g(e)("dashboard.Continue to work"):g(e)("dashboard.have a bit of rest")),1)])]),_:1})]),_:1})]),a("div",ft,[h(r,{gutter:20},{default:p(()=>[h(i,{sm:12,lg:6},{default:p(()=>[a("div",_t,[gt,a("div",vt,[a("div",bt,[h(f,{color:"#8595F4",size:"20",name:"fa fa-line-chart"}),wt]),Vt])])]),_:1}),h(i,{sm:12,lg:6},{default:p(()=>[a("div",yt,[Tt,a("div",Ft,[a("div",kt,[h(f,{color:"#AD85F4",size:"20",name:"fa fa-file-text"}),St]),Et])])]),_:1}),h(i,{sm:12,lg:6},{default:p(()=>[a("div",xt,[a("div",At,T(g(e)("dashboard.Total number of members")),1),a("div",Dt,[a("div",Ct,[h(f,{color:"#74A8B5",size:"20",name:"fa fa-users"}),It]),Mt])])]),_:1}),h(i,{sm:12,lg:6},{default:p(()=>[a("div",Nt,[Pt,a("div",Wt,[a("div",Ot,[h(f,{color:"#F48595",size:"20",name:"fa fa-object-group"}),Bt]),Gt])])]),_:1})]),_:1})]),a("div",Ut,[h(r,{gutter:20},{default:p(()=>[h(i,{class:"lg-mb-20",xs:24,sm:24,md:12,lg:12},{default:p(()=>[h(V,{shadow:"hover",header:"最近七天会员增长"},{default:p(()=>[a("div",{class:"user-growth-chart",ref:g(m).set},null,512)]),_:1})]),_:1}),h(i,{class:"lg-mb-20",xs:24,sm:24,md:12,lg:12},{default:p(()=>[h(V,{shadow:"hover",header:"最近7天收入"},{default:p(()=>[a("div",{class:"file-growth-chart",ref:g(m).set},null,512)]),_:1})]),_:1})]),_:1})])])}}});const Ht=U(zt,[["__scopeId","data-v-3a5ef62a"]]);export{Ht as default};
