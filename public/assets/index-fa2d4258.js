import{b as g,T as k,a as I}from"./index-47490f62.js";import{i as L}from"./controllerUrls-941681c3.js";import{a as w,P as E}from"./popupForm-9902dfa0.js";import{d,$ as q,H as v,r as z,b1 as S,w as C,f as n,c as N,j as a,Y as u,x as i,a as l,b as m,aL as x,z as P,g as R,i as T,p as U,e as p,S as A,aC as D}from"./index-9250cf41.js";import{p as B}from"./parseInt-af730eea.js";import"./index-bb9265a5.js";import"./index-5cf5ba2e.js";import"./validate-d30190a1.js";const F={class:"default-main ba-table-box"},G={class:"table-header-operate-text"},K=d({name:"user/moneyLog"}),X=d({...K,setup(H){const{t:e}=q(),b=v(),f=U().query.user_id??"",t=z({userInfo:{}}),r=new g(new S(L),{column:[{type:"selection",align:"center",operator:!1},{label:e("id"),prop:"id",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),width:70},{label:e("user.moneyLog.User ID"),prop:"user_id",align:"center",operator:"=",width:70},{label:e("user.moneyLog.User name"),prop:"user.username",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("user.moneyLog.User nickname"),prop:"user.nickname",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("user.moneyLog.Change balance"),prop:"money",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.Before change"),prop:"before",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.After change"),prop:"after",align:"center",operator:"RANGE",sortable:"custom"},{label:e("user.moneyLog.remarks"),prop:"memo",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),"show-overflow-tooltip":!0},{label:e("createtime"),prop:"createtime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160}],dblClickNotEditColumn:["all"]},{defaultItems:{user_id:f,memo:""}},{},{onSubmit:()=>{s(r.comSearch.form.user_id)}});r.mount(),r.getIndex(),A("baTable",r);const s=o=>{o&&B(o)>0?w(o).then(c=>{t.userInfo=c.data.user}):t.userInfo={}};return s(r.comSearch.form.user_id),C(()=>r.comSearch.form.user_id,o=>{r.form.defaultItems.user_id=o,s(o)}),(o,c)=>{const h=p("el-alert"),_=p("el-button"),y=D("blur");return n(),N("div",F,[a(r).table.remark?(n(),u(h,{key:0,class:"ba-table-alert",title:a(r).table.remark,type:"info","show-icon":""},null,8,["title"])):i("",!0),l(k,{buttons:["refresh","add","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":a(e)("quick Search Placeholder",{fields:a(e)("user.moneyLog.User name")+"/"+a(e)("user.moneyLog.User nickname")})},{default:m(()=>[a(x)(t.userInfo)?i("",!0):P((n(),u(_,{key:0,class:"table-header-operate"},{default:m(()=>[R("span",G,T(t.userInfo.username+"(ID:"+t.userInfo.id+") "+a(e)("user.moneyLog.balance")+":"+t.userInfo.money),1)]),_:1})),[[y]])]),_:1},8,["quick-search-placeholder"]),l(I,{ref_key:"tableRef",ref:b},null,512),l(E)])}}});export{X as default};
