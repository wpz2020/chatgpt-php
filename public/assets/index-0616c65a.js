import{defineComponent as y,provide as x,onMounted as k,resolveComponent as c,resolveDirective as w,openBlock as s,createElementBlock as I,unref as o,createBlock as u,createCommentVNode as T,createVNode as l,withCtx as n,createElementVNode as f,withDirectives as z,toDisplayString as v}from"vue";import{b as B,T as E,a as q}from"./index-0a827c2c.js";import{e as C}from"./controllerUrls-941681c3.js";import{r as D,i as P,I as A}from"./info-8a024c51.js";import{aB as K,an as F,aC as N,_ as S}from"./index-89e26330.js";import{useI18n as V}from"vue-i18n";import"element-plus";import"vue-router";import"./index-d3b20950.js";import"pinia";import"vue-demi";const H={class:"default-main ba-table-box"},O={class:"mlr-12"},G={class:"table-header-operate-text"},J=y({name:"security/dataRecycleLog"}),M=y({...J,setup(U){const{t:e}=V();let i=[{render:"tipButton",name:"info",title:"info",text:"",type:"primary",icon:"fa fa-search-plus",class:"table-row-info",disabledTip:!1,click:a=>{p(a[t.table.pk])}},{render:"confirmButton",name:"restore",title:"security.dataRecycleLog.restore",text:"",type:"success",icon:"el-icon-RefreshRight",class:"table-row-edit",popconfirm:{confirmButtonText:e("security.dataRecycleLog.restore"),cancelButtonText:e("Cancel"),confirmButtonType:"success",title:e("security.dataRecycleLog.Are you sure to restore the selected records?")},disabledTip:!1,click:a=>{d([a[t.table.pk]])}}];i=i.concat(K(["delete"]));const t=new B(new F(C),{column:[{type:"selection",align:"center",operator:!1},{label:e("id"),prop:"id",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),width:70},{label:e("security.dataRecycleLog.Operation administrator"),prop:"admin.nickname",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycleLog.Recycling rule name"),prop:"recycle.name",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycleLog.controller"),prop:"recycle.controller_as",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycleLog.data sheet"),prop:"data_table",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{label:e("security.dataRecycleLog.DeletedData"),prop:"data",align:"center",operator:"LIKE",operatorPlaceholder:e("security.dataRecycleLog.Arbitrary fragment fuzzy query"),"show-overflow-tooltip":!0},{label:"IP",prop:"ip",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query")},{show:!1,label:"User Agent",prop:"useragent",align:"center",operator:"LIKE",operatorPlaceholder:e("Fuzzy query"),"show-overflow-tooltip":!0},{label:e("security.dataRecycleLog.Delete time"),prop:"createtime",align:"center",render:"datetime",sortable:"custom",operator:"RANGE",width:160},{label:e("operate"),align:"center",width:120,render:"buttons",buttons:i,operator:!1}],dblClickNotEditColumn:[void 0]},{},{onTableDblclick:({row:a})=>(p(a[t.table.pk]),!1)}),d=a=>{D(a).then(r=>{t.onTableHeaderAction("refresh",{})})},m=()=>{d(t.getSelectionIds())},p=a=>{t.form.extend.info={},t.form.operate="info",t.form.loading=!0,P(a).then(r=>{r.data.row.data=r.data.row.data?[{label:e("security.dataRecycleLog.Click to expand"),children:N(r.data.row.data)}]:[],t.form.extend.info=r.data.row,t.form.loading=!1})};return x("baTable",t),k(()=>{t.mount(),t.getIndex()}),(a,r)=>{const b=c("el-alert"),_=c("Icon"),h=c("el-button"),g=c("el-tooltip"),R=c("el-popconfirm"),L=w("blur");return s(),I("div",H,[o(t).table.remark?(s(),u(b,{key:0,class:"ba-table-alert",title:o(t).table.remark,type:"info","show-icon":""},null,8,["title"])):T("",!0),l(E,{buttons:["refresh","delete","comSearch","quickSearch","columnDisplay"],"quick-search-placeholder":o(e)("quick Search Placeholder",{fields:o(e)("security.dataRecycleLog.Rule name")})},{default:n(()=>[l(R,{onConfirm:m,"confirm-button-text":o(e)("security.dataRecycleLog.restore"),"cancel-button-text":o(e)("Cancel"),confirmButtonType:"success",title:o(e)("security.dataRecycleLog.Are you sure to restore the selected records?"),disabled:!(o(t).table.selection.length>0)},{reference:n(()=>[f("div",O,[l(g,{content:o(e)("security.dataRecycleLog.Restore the selected record to the original data table"),placement:"top"},{default:n(()=>[z((s(),u(h,{disabled:!(o(t).table.selection.length>0),class:"table-header-operate",type:"success"},{default:n(()=>[l(_,{color:"#ffffff",name:"el-icon-RefreshRight"}),f("span",G,v(o(e)("security.dataRecycleLog.restore")),1)]),_:1},8,["disabled"])),[[L]])]),_:1},8,["content"])])]),_:1},8,["confirm-button-text","cancel-button-text","title","disabled"])]),_:1},8,["quick-search-placeholder"]),l(q),l(A)])}}});const re=S(M,[["__scopeId","data-v-16f1a8c2"]]);export{re as default};
