import{defineComponent as R,ref as k,reactive as S,resolveComponent as c,resolveDirective as U,openBlock as b,createElementBlock as P,createElementVNode as l,toDisplayString as s,unref as e,createVNode as i,withCtx as a,createTextVNode as n,normalizeStyle as B,withDirectives as F,createBlock as g,withKeys as y,withModifiers as V,createCommentVNode as K,pushScopeId as Q,popScopeId as T}from"vue";import{e as D,s as p,g as z}from"./crud-ccf00dde.js";import{F as E}from"./index-39d73c69.js";import{ElNotification as M}from"element-plus";import{b as j}from"./validate-e09b6b50.js";import{_ as J}from"./log.vue_vue_type_style_index_0_lang-4af47868.js";import{useI18n as O}from"vue-i18n";import{_ as A}from"./index-89e26330.js";import"./index-0a827c2c.js";import"vue-router";import"./controllerUrls-941681c3.js";import"./index-d3b20950.js";import"pinia";import"vue-demi";const G=m=>(Q("data-v-3f4d3041"),m=m(),T(),m),H={class:"default-main"},W={class:"crud-title"},X={class:"start-opt"},Y={class:"start-item-title"},Z={class:"start-item-remark"},ee={class:"start-item suspension"},te={class:"start-item-title"},oe={class:"start-item-remark"},le={class:"start-item suspension"},se={class:"start-item-title"},re={class:"start-item-remark"},de={target:"_blank",href:"https://wonderful-code.gitee.io/guide/other/developerMustSee.html"},ae=G(()=>l("code",null,"test_build",-1)),ie=R({__name:"start",setup(m){const{t:o}=O(),x=k(),_=k(),r=S({dialog:{type:"",visible:!1,dbList:[]},showLog:!1}),C=u=>{r.dialog.type=u,r.dialog.visible=!0,u=="sql"?setTimeout(()=>{x.value.focus()},200):u=="db"&&z().then(t=>{r.dialog.dbList=t.data.dbs})},q=S({db:[j({name:"required",message:o("crud.crud.Please select a data table")})]}),v=(u=void 0)=>{if(u){if(r.dialog.type=="sql"&&!p.startData.sql){M({type:"error",message:o("crud.crud.Please enter the table creation SQL")});return}u.validate(t=>{t&&D(r.dialog.type)})}};return(u,t)=>{const f=c("el-col"),w=c("el-row"),L=c("el-input"),$=c("el-form"),h=c("el-button"),I=c("el-dialog"),N=U("blur");return b(),P("div",H,[l("div",W,s(e(o)("crud.crud.start")),1),l("div",X,[i(w,{gutter:20},{default:a(()=>[i(f,{xs:24,span:8},{default:a(()=>[l("div",{onClick:t[0]||(t[0]=d=>e(D)("create")),class:"start-item suspension"},[l("div",Y,s(e(o)("crud.crud.create")),1),l("div",Z,s(e(o)("crud.crud.New background CRUD from zero")),1)])]),_:1}),i(f,{onClick:t[1]||(t[1]=d=>C("db")),xs:24,span:8},{default:a(()=>[l("div",ee,[l("div",te,s(e(o)("crud.crud.Select Data Table")),1),l("div",oe,s(e(o)("crud.crud.Select a designed data table from the database")),1)])]),_:1}),i(f,{onClick:t[2]||(t[2]=d=>r.showLog=!0),xs:24,span:8},{default:a(()=>[l("div",le,[l("div",se,s(e(o)("crud.crud.CRUD record")),1),l("div",re,s(e(o)("crud.crud.Start with previously generated CRUD code")),1)])]),_:1})]),_:1}),i(w,{justify:"center"},{default:a(()=>[i(f,{span:20,class:"ba-markdown crud-tips suspension"},{default:a(()=>[l("b",null,s(e(o)("crud.crud.Fast experience")),1),l("ol",null,[l("li",null,[n(s(e(o)("crud.crud.experience 1 1"))+" ",1),l("a",de,s(e(o)("crud.crud.experience 1 2")),1),n(" "+s(e(o)("crud.crud.experience 1 3")),1)]),l("li",null,[n(s(e(o)("crud.crud.experience 2 1"))+" ",1),l("code",null,s(e(o)("crud.crud.experience 2 2")),1),n(" "+s(e(o)("crud.crud.experience 2 3")),1),ae,n(s(e(o)("crud.crud.data sheet")),1)]),l("li",null,[n(s(e(o)("crud.crud.experience 3 1")),1),l("code",null,s(e(o)("crud.crud.experience 3 2")),1),n(" "+s(e(o)("crud.crud.experience 3 3")),1),l("code",null,s(e(o)("crud.crud.experience 3 4")),1)])])]),_:1})]),_:1}),i(I,{class:"ba-operate-dialog select-db-dialog",modelValue:r.dialog.visible,"onUpdate:modelValue":t[10]||(t[10]=d=>r.dialog.visible=d),title:r.dialog.type=="sql"?e(o)("crud.crud.Please enter SQL"):e(o)("crud.crud.Please select a data table")},{footer:a(()=>[l("div",{style:B({width:"calc(100% * 0.9)"})},[i(h,{onClick:t[8]||(t[8]=d=>r.dialog.visible=!1)},{default:a(()=>[n(s(u.$t("Cancel")),1)]),_:1}),F((b(),g(h,{onClick:t[9]||(t[9]=d=>v(_.value)),type:"primary"},{default:a(()=>[n(s(e(o)("Confirm")),1)]),_:1})),[[N]])],4)]),default:a(()=>[i($,{"label-width":140,onKeyup:t[7]||(t[7]=y(d=>v(_.value),["enter"])),ref_key:"formRef",ref:_,model:e(p).startData,rules:q},{default:a(()=>[r.dialog.type=="sql"?(b(),g(L,{key:0,class:"sql-input",prop:"sql",ref_key:"sqlInputRef",ref:x,modelValue:e(p).startData.sql,"onUpdate:modelValue":t[3]||(t[3]=d=>e(p).startData.sql=d),type:"textarea",placeholder:e(o)("crud.crud.table create SQL"),rows:10,onKeyup:[t[4]||(t[4]=y(V(()=>{},["stop"]),["enter"])),t[5]||(t[5]=y(V(d=>v(_.value),["ctrl"]),["enter"]))]},null,8,["modelValue","placeholder"])):r.dialog.type=="db"?(b(),g(E,{label:e(o)("crud.crud.data sheet"),class:"select-db",modelValue:e(p).startData.db,"onUpdate:modelValue":t[6]||(t[6]=d=>e(p).startData.db=d),type:"select",key:JSON.stringify(r.dialog.dbList),placeholder:e(o)("crud.crud.Please select a data table"),data:{content:r.dialog.dbList},prop:"db"},null,8,["label","modelValue","placeholder","data"])):K("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),i(J,{modelValue:r.showLog,"onUpdate:modelValue":t[11]||(t[11]=d=>r.showLog=d)},null,8,["modelValue"])])])}}});const ke=A(ie,[["__scopeId","data-v-3f4d3041"]]);export{ke as default};
