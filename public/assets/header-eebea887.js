import{h as P,p as c,C as x,D as r,o as s,k as e,q as o,M as I,N as y,l as w,O as T,P as z,Q as N,t as i,R as O,S as F,T as B,U as D,V as H,W as G,L as Q,r as X,F as J,A as Z,X as ee,Y as A}from"./vue-8b21a996.js";import{t as te,_ as se}from"./useDark-0e456fe8.js";import{u as W,c as ne,s as oe,a as Y,f as j,_ as E,b as ae}from"./index-36779712.js";import{u as R,o as le}from"./router-165f2c0f.js";import{u as q,C as ie}from"./chat_list-588f665c.js";const re="/api/index/";function ue(){const u=W(),v=R();if(!u.siteName)return ne({url:re+"index",method:"get"}).then(t=>{oe(t.data.site.siteName),u.dataFill(t.data.site),v.setStatus(t.data.openMemberCenter),t.data.openMemberCenter||v.setLayoutMode("Disable")})}const ce={class:"userinfo"},de=["src"],me={class:"username"},_e={class:"user-menus"},pe={key:0,class:"user-menu-max-title"},ve=["onClick"],fe={class:"user-menu-item"},he=P({__name:"aside",setup(u){const v=N(),t=Y(),f=R(),d=(a="",l)=>{document.body.clientWidth<851&&f.toggleMenuExpand(!1),a?a=="/logout"?(t.logout2(),v.push({name:"userLogin"})):v.push({name:a}):l&&le(l)};return(a,l)=>{const g=i("Icon"),C=i("el-button"),m=i("el-button-group"),h=i("el-aside"),b=O("blur");return c(),x(h,{class:"ba-user-layouts"},{default:r(()=>[s("div",ce,[s("div",{onClick:l[0]||(l[0]=p=>d("account/profile")),class:"user-avatar-box"},[s("img",{class:"user-avatar",src:e(j)(e(t).avatar?e(t).avatar:"/static/images/avatar.png"),alt:""},null,8,de),o(g,{class:"user-avatar-gender",name:e(t).getGenderIcon().name,size:"14",color:e(t).getGenderIcon().color},null,8,["name","color"])]),s("p",me,I(e(t).nickname),1),o(m,null,{default:r(()=>[y((c(),x(C,{onClick:l[1]||(l[1]=p=>d("account/integral")),class:"userinfo-button-item",title:a.$t("Integral")+" "+e(t).score,size:"default",plain:""},{default:r(()=>[s("span",null,I(a.$t("Integral")+" "+e(t).score),1)]),_:1},8,["title"])),[[b]]),y((c(),x(C,{onClick:l[2]||(l[2]=p=>d("account/balance")),class:"userinfo-button-item",title:a.$t("Balance")+" "+e(t).money,size:"default",plain:""},{default:r(()=>[s("span",null,I(a.$t("Balance")+" "+e(t).money),1)]),_:1},8,["title"])),[[b]])]),_:1})]),s("div",_e,[(c(!0),w(z,null,T(e(f).state.viewRoutes,(p,n)=>{var S;return c(),w(z,{key:n},[e(f).state.showHeadline?(c(),w("div",pe,I((S=p.meta)==null?void 0:S.title),1)):F("",!0),(c(!0),w(z,null,T(p.children,(k,$)=>{var M,L,V;return c(),w("div",{key:$,onClick:U=>d("",k),class:B(["user-menu-item",((M=e(f).state.activeRoute)==null?void 0:M.name)==k.name?"active":""])},[o(g,{name:(L=k.meta)==null?void 0:L.icon,size:"16",color:"var(--el-text-color-secondary)"},null,8,["name"]),s("span",null,I((V=k.meta)==null?void 0:V.title),1)],10,ve)}),128)),s("div",fe,[y((c(),x(C,{onClick:l[3]||(l[3]=k=>d("/logout")),size:"small",type:"primary",plain:""},{default:r(()=>[D(" 退出登陆 ")]),_:1})),[[b]])])],64)}),128))])]),_:1})}}});const ge=E(he,[["__scopeId","data-v-b71e4492"]]),Ce=u=>(H("data-v-e3a81fa3"),u=u(),G(),u),ke=Ce(()=>s("span",null,"AI聊天",-1)),we=P({__name:"menu",setup(u){const v=N();let t=q();const f=d=>{t.menuShow=!t.menuShow,v.push({name:d})};return(d,a)=>{const l=i("Icon"),g=i("el-col"),C=i("el-row");return c(),x(C,null,{default:r(()=>[o(g,{span:24},{default:r(()=>[s("div",{class:B(["menu-list",d.$route.meta.key=="home"?"current_nav":""]),onClick:a[0]||(a[0]=m=>f("/"))},[o(l,{name:"fa fa-code"}),D(),ke],2)]),_:1})]),_:1})}}});const ye=E(we,[["__scopeId","data-v-e3a81fa3"]]);const be=u=>(H("data-v-dc50e309"),u=u(),G(),u),$e=be(()=>s("img",{src:se},null,-1)),Ie={class:"site-name"},xe={class:"chat-menu"},Se={class:"chat-menu-right-pc"},Me={class:"chat-menu-right-phone"},Le={__name:"header",setup(u){let v=Q(!1);te(v.value);let t=q();const f=()=>{t.chatAside=!t.chatAside},d=()=>{t.menuShow=!t.menuShow},a=R(),l=()=>{m.isLogin()?a.toggleMenuExpand(!a.state.menuExpand):h.push("userLogin")},g=X({activeMenu:""}),C=J(),m=Y(),h=N();ae();const b=W();switch(C.name){case"/":g.activeMenu="";break;case"userLogin":g.activeMenu="user";break}return Z(()=>{let{youkeNum:p}=ee(b);m.initYouKe(p)}),ue(),(p,n)=>{const S=i("el-button"),k=i("el-avatar"),$=i("Icon"),M=i("el-col"),L=i("el-row"),V=i("el-header"),U=i("el-drawer"),K=i("el-dialog");return c(),w(z,null,[o(V,{class:"header",id:"chat-header"},{default:r(()=>[o(L,{justify:"center"},{default:r(()=>[o(M,{class:"header-row",span:24,xs:24},{default:r(()=>[s("div",{onClick:n[0]||(n[0]=_=>e(h).push({name:"/"})),class:"header-logo"},[$e,s("span",Ie,I(e(b).siteName),1)]),s("ul",xe,[s("li",{class:B(p.$route.meta.key=="home"?"current_nav":""),onClick:n[1]||(n[1]=_=>e(h).push({name:"/"}))},"AI聊天",2)]),s("div",Se,[y(s("div",{onClick:n[2]||(n[2]=_=>e(h).push({name:"userLogin"}))},[o(S,{class:"user-login",type:"info"},{default:r(()=>[D("登录")]),_:1})],512),[[A,!e(m).isLogin()]]),y(s("div",{class:"chat-user-avatar",onClick:n[3]||(n[3]=_=>e(h).push({name:"user"}))},[o(k,{size:40,src:e(j)(e(m).avatar?e(m).avatar:"/static/images/avatar.png")},null,8,["src"])],512),[[A,e(m).isLogin()]])]),s("div",Me,[p.$route.meta.key=="home"?(c(),w("div",{key:0,class:"chat-show",onClick:f},[o($,{name:"local-comments"})])):F("",!0),y(s("div",{class:"user-show",onClick:n[4]||(n[4]=_=>e(h).push({name:"userLogin"}))},[o($,{name:"fa fa-user-circle"})],512),[[A,!e(m).isLogin()]]),y(s("div",{class:"user-show",onClick:n[5]||(n[5]=_=>l())},[o($,{name:"fa fa-user-circle"})],512),[[A,e(m).isLogin()]]),s("div",{class:"menu-show",onClick:d},[o($,{name:"fa fa-bars"})])])]),_:1})]),_:1})]),_:1}),o(U,{class:"aside-drawer","append-to-body":!0,modelValue:e(a).state.menuExpand,"onUpdate:modelValue":n[6]||(n[6]=_=>e(a).state.menuExpand=_),"with-header":!1,direction:"ltr",size:"70%"},{default:r(()=>[o(ge)]),_:1},8,["modelValue"]),o(K,{modelValue:e(t).menuShow,"onUpdate:modelValue":n[7]||(n[7]=_=>e(t).menuShow=_),class:"menu-tc",title:"",width:"100%",modal:!1,"show-close":!1},{default:r(()=>[o(ye)]),_:1},8,["modelValue"]),o(U,{size:"70%",class:"tc-chat-list",modelValue:e(t).chatAside,"onUpdate:modelValue":n[8]||(n[8]=_=>e(t).chatAside=_),direction:"ltr"},{default:r(()=>[o(ie)]),_:1},8,["modelValue"])],64)}}},Be=E(Le,[["__scopeId","data-v-dc50e309"]]);export{ge as A,Be as H};
