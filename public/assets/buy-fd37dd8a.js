import{defineComponent as B,resolveComponent as _,resolveDirective as v,openBlock as i,createElementBlock as s,createVNode as f,unref as e,withCtx as u,withDirectives as m,createElementVNode as a,toDisplayString as t,createTextVNode as r,Fragment as k,createBlock as y,createCommentVNode as g}from"vue";import{u as N,s as o}from"./store-fda3112c.js";import{s as I,c as O,o as b,a as P}from"./index-411a3130.js";import{useI18n as U}from"vue-i18n";import{O as $,_ as A}from"./index-89e26330.js";import"pinia";import"element-plus";import"vue-router";import"vue-demi";const D={key:0,class:"order-info"},E={class:"order-info-item"},M={class:"order-info-item"},z={class:"order-info-item"},F={class:"order-info-item"},S={key:0,class:"order-price"},T={key:1,class:"order-price"},W={class:"order-footer"},j={class:"order-agreement"},q={href:"https://doc.buildadmin.com/guide/other/appendix/templateAgreement.html",target:"_blank"},G={class:"order-info-buttons"},H=B({__name:"buy",setup(J){const{t:n}=U(),h=N();return(K,l)=>{const x=_("el-alert"),V=_("el-checkbox"),c=_("el-button"),w=_("el-dialog"),p=v("blur"),C=v("loading");return i(),s("div",null,[f(w,{modelValue:e(o).dialog.buy,"onUpdate:modelValue":l[5]||(l[5]=d=>e(o).dialog.buy=d),class:"buy-dialog",title:e(n)("module.Confirm order info"),top:"20vh",width:"28%"},{default:u(()=>[m((i(),s("div",null,[f(x,{title:e(n)("module.Module installation warning"),type:"error",center:!0,closable:!1},null,8,["title"]),e($)(e(o).buy.info)?g("",!0):(i(),s("div",D,[a("div",E,t(e(n)("module.Order title"))+"："+t(e(o).buy.info.title),1),a("div",M,t(e(n)("module.Order No"))+"："+t(e(o).buy.info.sn),1),a("div",z,t(e(n)("module.Purchase user"))+"："+t(e(I)(e(h))),1),a("div",F,[r(t(e(n)("module.Order price"))+"： ",1),e(o).buy.info.purchased?(i(),s("span",T,t(e(n)("module.Purchased, can be installed directly")),1)):(i(),s("span",S,t(e(O)(e(o).buy.info.amount,e(o).buy.info.pay.money?1:0)),1))]),a("div",W,[a("div",j,[f(V,{modelValue:e(o).buy.agreement,"onUpdate:modelValue":l[0]||(l[0]=d=>e(o).buy.agreement=d),size:"small",label:""},null,8,["modelValue"]),a("span",null,[r(t(e(n)("module.Understand and agree"))+"《 ",1),a("a",q,t(e(n)("module.Module purchase and use agreement")),1),r(" 》 ")])]),a("div",G,[e(o).buy.info.purchased?m((i(),y(c,{key:1,loading:e(o).loading.common,onClick:l[4]||(l[4]=d=>e(P)(e(o).buy.info.uid,e(o).buy.info.id)),type:"warning"},{default:u(()=>[r(t(e(n)("module.Install now")),1)]),_:1},8,["loading"])),[[p]]):(i(),s(k,{key:0},[e(o).buy.info.pay.score?m((i(),y(c,{key:0,loading:e(o).loading.common,onClick:l[1]||(l[1]=d=>e(b)("score")),type:"warning"},{default:u(()=>[r(t(e(n)("module.Point payment")),1)]),_:1},8,["loading"])),[[p]]):g("",!0),e(o).buy.info.pay.money?(i(),s(k,{key:1},[m((i(),y(c,{loading:e(o).loading.common,onClick:l[2]||(l[2]=d=>e(b)("balance")),type:"warning"},{default:u(()=>[r(t(e(n)("module.Balance payment")),1)]),_:1},8,["loading"])),[[p]]),m((i(),y(c,{loading:e(o).loading.common,onClick:l[3]||(l[3]=d=>e(b)("wx")),type:"success"},{default:u(()=>[r(t(e(n)("module.Wechat payment")),1)]),_:1},8,["loading"])),[[p]])],64)):g("",!0)],64))])])]))])),[[C,e(o).loading.buy]])]),_:1},8,["modelValue","title"])])}}});const ne=A(H,[["__scopeId","data-v-4437047a"]]);export{ne as default};
