import{d as V,H as f,q as R,s as v,r as S,o as B,w as D,f as o,c,a as t,b as F,g as a,j as e,F as H,J as L,x as i,K as M,e as g,i as y,z,A as E,_ as N}from"./index-9250cf41.js";import{a as P}from"./chat-5c60e301.js";import{u as j}from"./userGpt4-51d4bd4b.js";import{t as w}from"./timeToDate-4f013b84.js";import{x as k}from"./chat-b08578f0.js";const q={class:"chat-content-body"},A={key:0},G=["index"],J={key:0,class:"chat_left"},K={class:"user-avatr"},U={class:"user-avatr-time"},O={class:"dh_action"},Q={key:1,class:"chat_right"},W={class:"user-avatr"},X={class:"user-avatr-time"},Y={class:"chat-speak"},Z=V({__name:"chat",setup($){const l="preview-only",_=f(),d=f();let x=R(),T=j();const{chatMsgList:r,nowChatId:u}=v(T),{avatar:b}=v(x);function h(){let n=_.value.clientHeight;d.value.setScrollTop(n+500)}return S({output:"",isEnd:!1,speed:80,singleBack:!1,sleep:0,type:"normal",backSpeed:40,sentencePause:!1}),B(()=>{h()}),D(r,(n,C)=>{setTimeout(()=>{h()},100)},{deep:!0}),(n,C)=>{const m=g("el-avatar"),p=g("Icon");return o(),c("div",q,[t(e(M),{ref_key:"scrollbarRef",ref:d,style:{overflow:"hidden"},class:"infinite-list chat-content-scroll",always:""},{default:F(()=>[a("div",{ref_key:"innerRef",ref:_},[e(r)[e(u)]?(o(),c("div",A,[(o(!0),c(H,null,L(e(r)[e(u)].msglist,(s,I)=>(o(),c("div",{index:I,class:"scrollbar-demo-item"},[s.role!="user"?(o(),c("div",J,[a("div",K,[t(m,{src:e(P)},null,8,["src"]),a("span",U,y(e(w).setTime(s.time)),1)]),t(e(k),{previewTheme:"vuepress",editorId:l,modelValue:s.msg},null,8,["modelValue"]),z(a("div",O,[t(p,{name:"el-icon-CopyDocument",title:"复制",color:"#8595F4",size:"20"}),t(p,{name:"el-icon-Refresh",title:"重试",color:"#8595F4",size:"20"})],512),[[E,s.isfinish]])])):i("",!0),s.role=="user"?(o(),c("div",Q,[a("div",W,[t(m,{src:e(b)},null,8,["src"]),a("span",X,y(e(w).setTime(s.time)),1)]),a("div",Y,[t(e(k),{previewTheme:"vuepress",editorId:l,modelValue:s.msg},null,8,["modelValue"])])])):i("",!0)],8,G))),256))])):i("",!0)],512)]),_:1},512)])}}});const ce=N(Z,[["__scopeId","data-v-d49cf8c2"]]);export{ce as default};
