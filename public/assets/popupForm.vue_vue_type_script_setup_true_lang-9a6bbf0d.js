import{h as F,L as N,r as T,p as r,C as n,D as i,N as f,l as U,U as b,M as c,k as e,o as y,q as s,m as V,a6 as _,$ as v,S as $,T as z,al as B,t as m,R as p}from"./vue-8b21a996.js";import{l as I}from"./index-dda703f5.js";import{F as u}from"./index-38d8351b.js";import{b as P}from"./validate-0d2c1515.js";const K={class:"title"},Q=F({__name:"popupForm",setup(R){const d=N(),t=B("baTable"),{t:l}=I(),q=T({add_time:[P({name:"date",title:l("questions.add_time")})]});return(W,o)=>{const C=m("el-form"),k=m("el-scrollbar"),g=m("el-button"),w=m("el-dialog"),x=p("drag"),S=p("zoom"),h=p("loading"),D=p("blur");return r(),n(w,{class:"ba-operate-dialog","close-on-click-modal":!1,"model-value":["add","edit"].includes(e(t).form.operate),onClose:e(t).toggleForm,width:"50%"},{header:i(()=>[f((r(),U("div",K,[b(c(e(t).form.operate?e(l)(e(t).form.operate):""),1)])),[[x,[".ba-operate-dialog",".el-dialog__header"]],[S,".ba-operate-dialog"]])]),footer:i(()=>[y("div",{style:V("width: calc(100% - "+e(t).form.labelWidth/1.8+"px)")},[s(g,{onClick:o[8]||(o[8]=a=>e(t).toggleForm(""))},{default:i(()=>[b(c(e(l)("Cancel")),1)]),_:1}),f((r(),n(g,{loading:e(t).form.submitLoading,onClick:o[9]||(o[9]=a=>e(t).onSubmit(d.value)),type:"primary"},{default:i(()=>[b(c(e(t).form.operateIds&&e(t).form.operateIds.length>1?e(l)("Save and edit next item"):e(l)("Save")),1)]),_:1},8,["loading"])),[[D]])],4)]),default:i(()=>[f((r(),n(k,{class:"ba-table-form-scrollbar"},{default:i(()=>[y("div",{class:z(["ba-operate-form","ba-"+e(t).form.operate+"-form"]),style:V("width: calc(100% - "+e(t).form.labelWidth/2+"px)")},[e(t).form.loading?$("",!0):(r(),n(C,{key:0,ref_key:"formRef",ref:d,onSubmit:o[6]||(o[6]=_(()=>{},["prevent"])),onKeyup:o[7]||(o[7]=v(a=>e(t).onSubmit(d.value),["enter"])),model:e(t).form.items,"label-position":"right","label-width":e(t).form.labelWidth+"px",rules:q},{default:i(()=>[s(u,{label:e(l)("questions.title"),type:"string",modelValue:e(t).form.items.title,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).form.items.title=a),prop:"title",placeholder:e(l)("Please input field",{field:e(l)("questions.title")})},null,8,["label","modelValue","placeholder"]),s(u,{label:e(l)("questions.user_ids"),type:"remoteSelect",modelValue:e(t).form.items.user_ids,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).form.items.user_ids=a),prop:"user_ids","input-attr":{pk:"questions_type.id",field:"title","remote-url":"/admin/QuestionsType/index",multiple:!0},placeholder:e(l)("Please select field",{field:e(l)("questions.user_ids")})},null,8,["label","modelValue","input-attr","placeholder"]),s(u,{label:e(l)("questions.content"),type:"textarea",modelValue:e(t).form.items.content,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).form.items.content=a),prop:"content","input-attr":{rows:3},onKeyup:[o[3]||(o[3]=v(_(()=>{},["stop"]),["enter"])),o[4]||(o[4]=v(_(a=>e(t).onSubmit(d.value),["ctrl"]),["enter"]))],placeholder:e(l)("Please input field",{field:e(l)("questions.content")})},null,8,["label","modelValue","placeholder"]),s(u,{label:e(l)("questions.add_time"),type:"datetime",modelValue:e(t).form.items.add_time,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).form.items.add_time=a),prop:"add_time",placeholder:e(l)("Please select field",{field:e(l)("questions.add_time")})},null,8,["label","modelValue","placeholder"])]),_:1},8,["model","label-width","rules"]))],6)]),_:1})),[[h,e(t).form.loading]])]),_:1},8,["model-value","onClose"])}}});export{Q as _};
